<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ros√°rio ¬∑ Tradicional</title>
    <style>
        :root {
            --bg-primary: #0a0a0c;
            --bg-secondary: #12121a;
            --text-primary: #e8e6e3;
            --text-secondary: #9a9390;
            --text-muted: #6a645f;
            --accent-gold: #c9a961;
            --accent-gold-dim: #8a7548;
            --accent-gold-bright: #e0c080;
            --bead-ave: #3a3a3a;
            --bead-pater: #c9a961;
            --border-subtle: rgba(255,255,255,0.06);
            
            --bead-size-ave: 15px;
            --bead-size-pater: 26px;
            --bead-gap: 42px;
            
            --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            font-family: 'Georgia', 'Palatino Linotype', 'Book Antiqua', serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        header {
            text-align: center;
            padding: 24px 20px;
            font-size: 0.85rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.25em;
            border-bottom: 1px solid var(--border-subtle);
            background: var(--bg-primary);
            position: relative;
        }

        header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1px;
            background: var(--accent-gold-dim);
        }

        #app {
            flex: 1;
            position: relative;
            width: 100%;
            height: 100%;
        }

        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s var(--transition-smooth);
        }

        .screen.active {
            opacity: 1;
            pointer-events: auto;
        }

        #home-screen {
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .home-subtitle {
            font-size: 0.9rem;
            color: var(--text-muted);
            letter-spacing: 0.15em;
            margin-bottom: 3.5rem;
            text-align: center;
            font-style: italic;
        }

        .home-menu {
            display: flex;
            flex-direction: column;
            gap: 18px;
            width: 100%;
            max-width: 340px;
        }

        .btn-mystery {
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--border-subtle);
            color: var(--text-secondary);
            padding: 18px 0;
            font-family: inherit;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.4s var(--transition-smooth);
            text-transform: uppercase;
            letter-spacing: 0.12em;
            position: relative;
            overflow: hidden;
        }

        .btn-mystery::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(201,169,97,0.1), transparent);
            transition: left 0.6s;
        }

        .btn-mystery:hover::before {
            left: 100%;
        }

        .btn-mystery:hover {
            border-color: var(--accent-gold-dim);
            color: var(--accent-gold);
            background: rgba(201,169,97,0.05);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        #prayer-screen {
            flex-direction: row;
            align-items: stretch;
        }

        .back-btn {
            position: absolute;
            top: 28px;
            left: 28px;
            background: none;
            border: none;
            color: var(--text-muted);
            font-family: inherit;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            z-index: 30;
            padding: 8px 12px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .back-btn::before {
            content: '‚Üê';
            font-size: 1.2rem;
        }

        .back-btn:hover {
            color: var(--accent-gold);
            transform: translateX(-3px);
        }

        .prayer-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px 80px 60px 60px;
            max-width: 700px;
            margin: 0 auto;
            position: relative;
        }

        .prayer-info {
            font-size: 0.75rem;
            color: var(--accent-gold-dim);
            text-transform: uppercase;
            letter-spacing: 0.2em;
            margin-bottom: 16px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            font-weight: 500;
        }

        .prayer-title {
            font-size: 2.2rem;
            font-weight: 300;
            margin-bottom: 10px;
            line-height: 1.3;
            color: var(--text-primary);
            text-align: center;
            letter-spacing: 0.02em;
        }

        .mystery-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-style: italic;
            text-align: center;
        }

        /* Imagem da obra de arte */
        .artwork-container {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .artwork-container.visible {
            opacity: 1;
        }

        .artwork-image {
            width: 100%;
            height: auto;
            max-height: 300px;
            object-fit: contain;
            border: 1px solid var(--border-subtle);
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }

        .artwork-caption {
            text-align: center;
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 8px;
            font-style: italic;
            line-height: 1.4;
        }

        .meditation-box {
            font-size: 1.15rem;
            line-height: 1.75;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--border-subtle);
            text-align: center;
            max-width: 560px;
            transition: opacity 0.3s ease;
        }

        .progress-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            color: var(--text-muted);
            letter-spacing: 0.1em;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        .rosary-container {
            width: 140px;
            height: 100%;
            position: relative;
            background: linear-gradient(to left, rgba(0,0,0,0.25), transparent);
            overflow: hidden;
            flex-shrink: 0;
            border-left: 1px solid var(--border-subtle);
        }

        .rosary-container::before,
        .rosary-container::after {
            content: '';
            position: absolute;
            left: 0;
            width: 100%;
            height: 180px;
            z-index: 10;
            pointer-events: none;
        }

        .rosary-container::before {
            top: 0;
            background: linear-gradient(to bottom, 
                var(--bg-primary) 0%, 
                rgba(10,10,12,0.9) 30%,
                transparent 100%);
        }

        .rosary-container::after {
            bottom: 0;
            background: linear-gradient(to top, 
                var(--bg-primary) 0%, 
                rgba(10,10,12,0.9) 30%,
                transparent 100%);
        }

        .center-guide {
            position: absolute;
            top: 50%;
            left: 20%;
            right: 20%;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(201,169,97,0.15) 50%, 
                transparent);
            transform: translateY(-50%);
            z-index: 5;
        }

        .touch-control {
            position: absolute;
            left: 0;
            width: 100%;
            z-index: 20;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .touch-up {
            top: 0;
            height: 25%;
        }

        .touch-down {
            bottom: 0;
            height: 35%;
        }

        .touch-control:hover {
            background: rgba(255,255,255,0.02);
        }

        .bead-track {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            transform: translate3d(-50%, 0, 0);
            transition: transform 0.55s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .bead {
            border-radius: 50%;
            margin: calc(var(--bead-gap) / 2) 0;
            transition: all 0.4s var(--transition-smooth);
            position: relative;
            flex-shrink: 0;
        }

        .bead.ave {
            width: var(--bead-size-ave);
            height: var(--bead-size-ave);
            background: var(--bead-ave);
            box-shadow: 0 2px 8px rgba(0,0,0,0.4);
        }

        .bead.pater {
            width: var(--bead-size-pater);
            height: var(--bead-size-pater);
            background: transparent;
            border: 2.5px solid var(--accent-gold-dim);
            box-shadow: 0 0 12px rgba(201,169,97,0.2);
        }

        .bead.cross,
        .bead.credo,
        .bead.gloria {
            width: 18px;
            height: 26px;
            background: transparent;
            border: 1.5px solid var(--accent-gold-dim);
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(201,169,97,0.15);
        }

        .bead.active {
            transform: scale(1.35);
            z-index: 2;
        }

        .bead.active.ave {
            background: linear-gradient(135deg, #6a6a6a, #505050);
            box-shadow: 0 0 20px rgba(201,169,97,0.4),
                        0 4px 12px rgba(0,0,0,0.5);
        }

        .bead.active.pater {
            background: var(--bead-pater);
            border-color: var(--accent-gold-bright);
            box-shadow: 0 0 25px rgba(201,169,97,0.6),
                        0 0 40px rgba(201,169,97,0.3),
                        0 4px 12px rgba(0,0,0,0.5);
        }

        .bead.active.cross,
        .bead.active.credo,
        .bead.active.gloria {
            background: rgba(201,169,97,0.3);
            border-color: var(--accent-gold);
            box-shadow: 0 0 20px rgba(201,169,97,0.5);
        }

        @media (max-width: 768px) {
            header {
                padding: 18px 20px;
                font-size: 0.7rem;
                letter-spacing: 0.3em;
            }

            header::after {
                width: 40px;
            }

            #prayer-screen {
                flex-direction: row;
            }

            .back-btn {
                top: 18px;
                left: 18px;
                font-size: 0.65rem;
                padding: 6px 10px;
            }

            .back-btn::before {
                font-size: 1.1rem;
            }

            /* Conte√∫do √† esquerda, ocupa maior parte da tela */
            .prayer-content {
                flex: 1;
                padding: 70px 20px 30px 20px;
                justify-content: flex-start;
                align-items: flex-start;
                text-align: left;
                overflow-y: auto;
                max-width: none;
            }

            .prayer-info {
                font-size: 0.65rem;
                letter-spacing: 0.15em;
                margin-bottom: 12px;
            }

            .prayer-title {
                font-size: 1.4rem;
                margin-bottom: 6px;
                text-align: left;
            }

            .mystery-subtitle {
                font-size: 0.9rem;
                margin-bottom: 16px;
                text-align: left;
            }

            /* Imagem mais compacta no mobile */
            .artwork-container {
                max-width: 100%;
                margin: 16px 0;
            }

            .artwork-image {
                max-height: 140px;
                border-radius: 4px;
            }

            .artwork-caption {
                font-size: 0.65rem;
                margin-top: 6px;
            }

            .meditation-box {
                font-size: 0.95rem;
                line-height: 1.65;
                margin-top: 16px;
                padding-top: 16px;
                text-align: left;
                max-width: 100%;
            }

            .progress-indicator {
                position: relative;
                bottom: auto;
                left: auto;
                transform: none;
                margin-top: 20px;
                font-size: 0.6rem;
                text-align: left;
            }

            /* Ros√°rio VERTICAL √† direita - como passar nas m√£os */
            .rosary-container {
                position: fixed;
                top: 0;
                right: 0;
                bottom: 0;
                width: 70px;
                height: 100%;
                border-left: 1px solid var(--border-subtle);
                border-top: none;
                background: linear-gradient(to left, 
                    rgba(10,10,12,0.98) 0%, 
                    rgba(10,10,12,0.92) 60%,
                    rgba(10,10,12,0.85) 100%);
                backdrop-filter: blur(8px);
                z-index: 100;
            }

            /* M√°scaras superior/inferior para fade vertical */
            .rosary-container::before {
                top: 0;
                left: 0;
                right: 0;
                width: 100%;
                height: 120px;
                background: linear-gradient(to bottom, 
                    var(--bg-primary) 0%, 
                    rgba(10,10,12,0.9) 30%,
                    transparent 100%);
            }

            .rosary-container::after {
                top: auto;
                bottom: 0;
                left: 0;
                right: 0;
                width: 100%;
                height: 120px;
                background: linear-gradient(to top, 
                    var(--bg-primary) 0%, 
                    rgba(10,10,12,0.9) 30%,
                    transparent 100%);
            }

            /* Linha guia horizontal no centro */
            .center-guide {
                top: 50%;
                left: 15%;
                right: 15%;
                width: auto;
                height: 1px;
                transform: translateY(-50%);
                background: linear-gradient(90deg, 
                    transparent, 
                    rgba(201,169,97,0.2) 50%, 
                    transparent);
            }

            /* Track VERTICAL */
            .bead-track {
                flex-direction: column;
                top: 50%;
                left: 50%;
                transform: translate3d(-50%, 0, 0);
            }

            /* Contas com espa√ßamento vertical - MENORES no mobile */
            .bead {
                margin: calc(var(--bead-gap) * 0.45) 0;
            }

            .bead.ave {
                width: 13px;
                height: 13px;
            }

            .bead.pater {
                width: 23px;
                height: 23px;
                border-width: 2px;
            }

            .bead.cross,
            .bead.credo,
            .bead.gloria {
                width: 15px;
                height: 22px;
            }

            /* Conta ativa um pouco maior */
            .bead.active {
                transform: scale(1.5);
            }

            /* Remover controles de toque visuais */
            .touch-control {
                display: none;
            }

            /* Ajuste do conte√∫do para n√£o ficar atr√°s do ros√°rio */
            .prayer-content {
                padding-right: 85px;
            }

            .home-subtitle {
                font-size: 0.85rem;
                margin-bottom: 3rem;
                padding: 0 20px;
            }

            .home-menu {
                max-width: 320px;
                padding: 0 20px;
                gap: 16px;
            }

            .btn-mystery {
                padding: 16px 0;
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>

    <header>Ros√°rio ¬∑ Tradicional</header>

    <div id="app">
        <div id="home-screen" class="screen active">
            <p class="home-subtitle">Escolha os mist√©rios para contemplar</p>
            <nav class="home-menu">
                <button class="btn-mystery" onclick="app.startRosary('gozosos')">Mist√©rios Gozosos</button>
                <button class="btn-mystery" onclick="app.startRosary('dolorosos')">Mist√©rios Dolorosos</button>
                <button class="btn-mystery" onclick="app.startRosary('gloriosos')">Mist√©rios Gloriosos</button>
            </nav>
        </div>

        <div id="prayer-screen" class="screen">
            <button class="back-btn" onclick="app.goHome()">Voltar</button>

            <div class="prayer-content">
                <div class="prayer-info" id="prayer-meta">D√©cada 1 ¬∑ Conta 1</div>
                <h1 class="prayer-title" id="prayer-name">Ave Maria</h1>
                <p class="mystery-subtitle" id="mystery-subtitle"></p>
                
                <div class="artwork-container" id="artwork-container">
                    <img class="artwork-image" id="artwork-image" alt="Obra de arte sacra">
                    <div class="artwork-caption" id="artwork-caption"></div>
                </div>
                
                <div class="meditation-box" id="prayer-meditation">
                    "Ave, cheia de gra√ßa..."
                </div>
                <div class="progress-indicator" id="progress-indicator">1 / 59</div>
            </div>

            <div class="rosary-container">
                <div class="center-guide"></div>
                <div class="touch-control touch-up" onclick="app.prevBead()"></div>
                <div class="touch-control touch-down" onclick="app.nextBead()"></div>
                <div class="bead-track" id="bead-track"></div>
            </div>
        </div>
    </div>

    <script>
        // Imagens de √≠cones bizantinos e arte sacra
        const ARTWORKS = {
            gozosos: [
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚ú†%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EA Anuncia√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "A Anuncia√ß√£o ¬∑ √çcone Bizantino"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%238a7548' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3E‚ò©%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3EA Visita√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "A Visita√ß√£o ¬∑ Tradi√ß√£o Oriental"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚úô%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EO Nascimento%3C/text%3E%3C/svg%3E",
                    caption: "O Nascimento de Cristo ¬∑ Arte Sacra"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%238a7548' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3E‚úù%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3EA Natividade%3C/text%3E%3C/svg%3E",
                    caption: "A Natividade ¬∑ Tradi√ß√£o Lit√∫rgica"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚ú†%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EApresenta√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "A Apresenta√ß√£o ¬∑ √çcone Sacro"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%238a7548' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3E‚ò©%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3EMaria e Isabel%3C/text%3E%3C/svg%3E",
                    caption: "Santa Visita√ß√£o ¬∑ Arte Medieval"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚úô%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EJesus no Templo%3C/text%3E%3C/svg%3E",
                    caption: "Jesus no Templo ¬∑ Tradi√ß√£o Bizantina"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%238a7548' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3E‚úù%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3EO Menino Perdido%3C/text%3E%3C/svg%3E",
                    caption: "O Encontro ¬∑ √çcone Lit√∫rgico"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚ú†%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3ESagrada Fam√≠lia%3C/text%3E%3C/svg%3E",
                    caption: "Sagrada Fam√≠lia ¬∑ Arte Sacra"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%238a7548' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3E‚ò©%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23e8e6e3' font-family='Georgia,serif'%3EM√£e de Deus%3C/text%3E%3C/svg%3E",
                    caption: "Theotokos ¬∑ Tradi√ß√£o Oriental"
                }
            ],
            dolorosos: [
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%234a1818' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3E‚úû%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3EAgonia%3C/text%3E%3C/svg%3E",
                    caption: "Agonia no Horto ¬∑ √çcone da Paix√£o"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%231a0a0a' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3E‚úù%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3EFlagela√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "Flagela√ß√£o ¬∑ Arte Sacra"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%234a1818' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3E‚ôõ%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3ECoroa√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "Coroa√ß√£o de Espinhos ¬∑ √çcone"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%231a0a0a' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3E‚úû%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3EEcce Homo%3C/text%3E%3C/svg%3E",
                    caption: "Ecce Homo ¬∑ Tradi√ß√£o Bizantina"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%234a1818' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3E‚ú†%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3EVia Crucis%3C/text%3E%3C/svg%3E",
                    caption: "Via Crucis ¬∑ √çcone Lit√∫rgico"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%231a0a0a' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3E‚ò¶%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3ECrucifix√£o%3C/text%3E%3C/svg%3E",
                    caption: "Crucifix√£o ¬∑ Arte Sacra"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%234a1818' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3E‚úù%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3ECristo Crucificado%3C/text%3E%3C/svg%3E",
                    caption: "Cristo Crucificado ¬∑ √çcone da Paix√£o"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%231a0a0a' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3E‚úû%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3EO Calv√°rio%3C/text%3E%3C/svg%3E",
                    caption: "O Calv√°rio ¬∑ Tradi√ß√£o Oriental"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%234a1818' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3E‚ô∞%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%23c9a961' font-family='Georgia,serif'%3EPaix√£o%3C/text%3E%3C/svg%3E",
                    caption: "Paix√£o de Cristo ¬∑ √çcone Bizantino"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%231a0a0a' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3E‚ò©%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%238a7548' font-family='Georgia,serif'%3EA Cruz%3C/text%3E%3C/svg%3E",
                    caption: "A Cruz ¬∑ Arte Sacra"
                }
            ],
            gloriosos: [
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23e0c080' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚ú†%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3ERessurrei√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "Ressurrei√ß√£o ¬∑ √çcone Pascal"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚ò©%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3ECristo Vive%3C/text%3E%3C/svg%3E",
                    caption: "Cristo Vive ¬∑ Arte Sacra"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23e0c080' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚úô%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EAscens√£o%3C/text%3E%3C/svg%3E",
                    caption: "Ascens√£o ¬∑ √çcone Bizantino"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚úù%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EC√©u Aberto%3C/text%3E%3C/svg%3E",
                    caption: "C√©u Aberto ¬∑ Tradi√ß√£o Oriental"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23e0c080' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3Eüïä%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EPentecostes%3C/text%3E%3C/svg%3E",
                    caption: "Pentecostes ¬∑ √çcone do Esp√≠rito"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3Eüî•%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EL√≠nguas de Fogo%3C/text%3E%3C/svg%3E",
                    caption: "L√≠nguas de Fogo ¬∑ Arte Lit√∫rgica"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23e0c080' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚ú†%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EAssun√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "Assun√ß√£o ¬∑ √çcone Mariano"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚ò©%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EM√£e no C√©u%3C/text%3E%3C/svg%3E",
                    caption: "M√£e no C√©u ¬∑ Tradi√ß√£o Bizantina"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23e0c080' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3Eüëë%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3ECoroa√ß√£o%3C/text%3E%3C/svg%3E",
                    caption: "Coroa√ß√£o ¬∑ √çcone Real"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23c9a961' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚úô%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3ERainha dos C√©us%3C/text%3E%3C/svg%3E",
                    caption: "Rainha dos C√©us ¬∑ Arte Sacra"
                },
                {
                    url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 500'%3E%3Crect fill='%23e0c080' width='400' height='500'/%3E%3Ctext x='200' y='250' font-size='60' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3E‚≠ê%3C/text%3E%3Ctext x='200' y='320' font-size='18' text-anchor='middle' fill='%230a0a0c' font-family='Georgia,serif'%3EGl√≥ria Eterna%3C/text%3E%3C/svg%3E",
                    caption: "Gl√≥ria Eterna ¬∑ √çcone da Gl√≥ria"
                }
            ]
        };

        const MYSTERIES = {
            gozosos: [
                { title: "A Anuncia√ß√£o", med: "Oferecemos-Vos, Senhor Jesus, esta primeira dezena em honra da vossa Encarna√ß√£o no seio pur√≠ssimo de Maria Virgem. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, uma humildade profunda de cora√ß√£o." },
                { title: "A Visita√ß√£o", med: "Oferecemos-Vos, Senhor Jesus, esta segunda dezena em honra da Visita√ß√£o de vossa M√£e Sant√≠ssima √† sua prima Santa Isabel e da santifica√ß√£o de S√£o Jo√£o Batista. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, a caridade perfeita para com o pr√≥ximo." },
                { title: "O Nascimento de Jesus", med: "Oferecemos-Vos, Senhor Jesus, esta terceira dezena em honra do vosso Nascimento na gruta de Bel√©m. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, o desapego dos bens deste mundo, o amor √† pobreza e aos pobres." },
                { title: "A Apresenta√ß√£o no Templo", med: "Oferecemos-Vos, Senhor Jesus, esta quarta dezena em honra da vossa Apresenta√ß√£o no Templo e da Purifica√ß√£o de Maria. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, a pureza de corpo e de alma." },
                { title: "Jesus perdido e achado no Templo", med: "Oferecemos-Vos, Senhor Jesus, esta quinta dezena em honra de quando vos perdestes e fostes achado no Templo pelos doutores da Lei. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, a verdadeira sabedoria." }
            ],
            dolorosos: [
                { title: "A Agonia de Jesus no Horto", med: "Oferecemos-Vos, Senhor Jesus, esta primeira dezena em honra da vossa agonia mortal no Jardim das Oliveiras. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, a contri√ß√£o perfeita dos nossos pecados." },
                { title: "A Flagela√ß√£o de Jesus", med: "Oferecemos-Vos, Senhor Jesus, esta segunda dezena em honra da vossa sangrenta Flagela√ß√£o. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, a mortifica√ß√£o dos nossos sentidos." },
                { title: "A Coroa√ß√£o de Espinhos", med: "Oferecemos-Vos, Senhor Jesus, esta terceira dezena em honra da vossa Coroa√ß√£o de Espinhos. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, o desprezo do mundo." },
                { title: "Jesus carrega a Cruz", med: "Oferecemos-Vos, Senhor Jesus, esta quarta dezena em honra do carregamento da vossa pesada Cruz. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, paci√™ncia nas adversidades." },
                { title: "A Crucifix√£o e Morte de Jesus", med: "Oferecemos-Vos, Senhor Jesus, esta quinta dezena em honra da vossa Crucifix√£o e Morte ignominiosa no Calv√°rio. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, a convers√£o dos pecadores, a perseveran√ßa dos justos e o al√≠vio das almas do Purgat√≥rio." }
            ],
            gloriosos: [
                { title: "A Ressurrei√ß√£o de Jesus", med: "Oferecemos-Vos, Senhor Jesus, esta primeira dezena em honra da vossa gloriosa Ressurrei√ß√£o. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, o amor a Deus e uma f√© viva." },
                { title: "A Ascens√£o de Jesus ao C√©u", med: "Oferecemos-Vos, Senhor Jesus, esta segunda dezena em honra da vossa triunfante Ascens√£o. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, uma firme esperan√ßa e um ardente desejo do C√©u." },
                { title: "A Vinda do Esp√≠rito Santo", med: "Oferecemos-Vos, Senhor Jesus, esta terceira dezena em honra do mist√©rio de Pentecostes. Pedimos, por este mist√©rio e pela intercess√£o de vossa M√£e Sant√≠ssima, a descida do Esp√≠rito Santo sobre nossas almas." },
                { title: "A Assun√ß√£o de Nossa Senhora", med: "Oferecemos-Vos, Senhor Jesus, esta quarta dezena em honra da Ressurrei√ß√£o e Assun√ß√£o de vossa M√£e Sant√≠ssima aos c√©us. Pedimos, por este mist√©rio e pela sua intercess√£o, uma terna devo√ß√£o a t√£o boa M√£e." },
                { title: "A Coroa√ß√£o de Nossa Senhora", med: "Oferecemos-Vos, Senhor Jesus, esta quinta dezena em honra da Coroa√ß√£o de vossa Sant√≠ssima M√£e no C√©u. Pedimos, por este mist√©rio e pela sua intercess√£o, a perseveran√ßa na gra√ßa e a coroa da gl√≥ria eterna." }
            ]
        };

        const PRAYERS = {
            cross: { name: "Sinal da Cruz", med: "Fazemos o Sinal da Cruz em nome do Pai, e do Filho, e do Esp√≠rito Santo. Preparemos nosso cora√ß√£o para a ora√ß√£o contemplativa." },
            credo: { name: "Creio", med: "Professamos nossa f√© no Deus Uno e Trino e em todos os artigos da Santa F√© Cat√≥lica. Que nossa f√© seja firme como rocha." },
            pater: { name: "Pai Nosso" },
            ave: { name: "Ave Maria" },
            gloria: { name: "Gl√≥ria ao Pai" },
            fatima: { name: "√ì meu Jesus", med: "Perdoai-nos, livrai-nos do fogo do inferno, levai as almas todas para o C√©u, principalmente as que mais precisarem." },
            salve: { name: "Salve Rainha", med: "Salve, Rainha, M√£e de miseric√≥rdia, vida, do√ßura e esperan√ßa nossa, salve! Voltamos para V√≥s nossos olhos..." }
        };

        const app = {
            state: {
                currentMystery: null,
                beads: [],
                currentIndex: 0
            },

            elements: {
                homeScreen: document.getElementById('home-screen'),
                prayerScreen: document.getElementById('prayer-screen'),
                beadTrack: document.getElementById('bead-track'),
                prayerMeta: document.getElementById('prayer-meta'),
                prayerName: document.getElementById('prayer-name'),
                mysterySubtitle: document.getElementById('mystery-subtitle'),
                prayerMed: document.getElementById('prayer-meditation'),
                progressIndicator: document.getElementById('progress-indicator'),
                artworkContainer: document.getElementById('artwork-container'),
                artworkImage: document.getElementById('artwork-image'),
                artworkCaption: document.getElementById('artwork-caption')
            },

            init() {
                document.addEventListener('keydown', (e) => {
                    if (!this.state.currentMystery) return;
                    
                    if (e.key === 'ArrowDown' || e.key === 'ArrowRight' || e.key === ' ') {
                        e.preventDefault();
                        this.nextBead();
                    }
                    if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                        e.preventDefault();
                        this.prevBead();
                    }
                    if (e.key === 'Escape') {
                        this.goHome();
                    }
                });

                let wheelTimeout;
                window.addEventListener('wheel', (e) => {
                    if (!this.state.currentMystery) return;
                    
                    if (!wheelTimeout) {
                        if (e.deltaY > 0) this.nextBead();
                        else if (e.deltaY < 0) this.prevBead();
                        
                        wheelTimeout = setTimeout(() => {
                            wheelTimeout = null;
                        }, 150);
                    }
                }, { passive: true });

                let touchStartY = 0;
                let touchStartX = 0;
                document.addEventListener('touchstart', (e) => {
                    touchStartY = e.touches[0].clientY;
                    touchStartX = e.touches[0].clientX;
                }, { passive: true });

                document.addEventListener('touchend', (e) => {
                    if (!this.state.currentMystery) return;
                    
                    const touchEndY = e.changedTouches[0].clientY;
                    const touchEndX = e.changedTouches[0].clientX;
                    const diffY = touchStartY - touchEndY;
                    const diffX = touchStartX - touchEndX;
                    
                    if (Math.abs(diffY) > Math.abs(diffX)) {
                        if (Math.abs(diffY) > 50) {
                            if (diffY > 0) this.nextBead();
                            else this.prevBead();
                        }
                    }
                }, { passive: true });
            },

            generateSequence(mysteryKey) {
                const mysteries = MYSTERIES[mysteryKey];
                const artworks = ARTWORKS[mysteryKey];
                const seq = [];
                let id = 0;

                const add = (type, prayer, meta = '', med = '', mysteryTitle = '', artwork = null) => {
                    seq.push({ 
                        id: id++, 
                        type, 
                        name: prayer.name || prayer, 
                        meta, 
                        med: med || prayer.med || '',
                        mysteryTitle,
                        artwork
                    });
                };

                add('cross', PRAYERS.cross, 'In√≠cio');
                add('credo', PRAYERS.credo, 'Profiss√£o de F√©');
                add('pater', PRAYERS.pater, 'Inten√ß√µes', 'Pelas inten√ß√µes do Santo Padre, o Papa.');
                add('ave', PRAYERS.ave, 'Virtudes', 'Pela virtude da F√©.');
                add('ave', PRAYERS.ave, 'Virtudes', 'Pela virtude da Esperan√ßa.');
                add('ave', PRAYERS.ave, 'Virtudes', 'Pela virtude da Caridade.');
                add('gloria', PRAYERS.gloria, 'Gl√≥ria');

                mysteries.forEach((myst, idx) => {
                    const num = idx + 1;
                    
                    add('pater', PRAYERS.pater, `${num}¬∫ Mist√©rio`, myst.med, myst.title);

                    for (let i = 1; i <= 10; i++) {
                        const artworkIndex = (idx * 10 + i - 1) % artworks.length;
                        add('ave', PRAYERS.ave, `${num}¬™ Dezena ¬∑ Conta ${i}`, myst.med, myst.title, artworks[artworkIndex]);
                    }

                    add('gloria', PRAYERS.gloria, `${num}¬™ Dezena`);
                    add('ave', PRAYERS.fatima, `${num}¬™ Dezena`);
                });

                add('salve', PRAYERS.salve, 'Encerramento');

                return seq;
            },

            startRosary(mysteryKey) {
                this.state.currentMystery = mysteryKey;
                this.state.beads = this.generateSequence(mysteryKey);
                this.state.currentIndex = 0;

                this.elements.beadTrack.innerHTML = '';
                this.state.beads.forEach((bead, idx) => {
                    const el = document.createElement('div');
                    el.className = `bead ${bead.type}`;
                    if (idx === 0) el.classList.add('active');
                    this.elements.beadTrack.appendChild(el);
                });

                this.elements.homeScreen.classList.remove('active');
                this.elements.prayerScreen.classList.add('active');

                this.updateView();
            },

            goHome() {
                this.state.currentMystery = null;
                this.elements.prayerScreen.classList.remove('active');
                this.elements.homeScreen.classList.add('active');
            },

            nextBead() {
                if (this.state.currentIndex < this.state.beads.length - 1) {
                    this.state.currentIndex++;
                    this.updateView();
                }
            },

            prevBead() {
                if (this.state.currentIndex > 0) {
                    this.state.currentIndex--;
                    this.updateView();
                }
            },

            updateView() {
                const idx = this.state.currentIndex;
                const bead = this.state.beads[idx];
                const track = this.elements.beadTrack;
                const beadEls = track.children;

                this.elements.prayerMeta.textContent = bead.meta;
                this.elements.prayerName.textContent = bead.name;
                this.elements.mysterySubtitle.textContent = bead.mysteryTitle || '';
                this.elements.progressIndicator.textContent = `${idx + 1} / ${this.state.beads.length}`;

                const medBox = this.elements.prayerMed;
                medBox.style.opacity = '0';
                setTimeout(() => {
                    medBox.textContent = bead.med;
                    medBox.style.opacity = '1';
                }, 200);

                // Mostrar/ocultar obra de arte
                if (bead.artwork && bead.type === 'ave') {
                    this.elements.artworkContainer.classList.remove('visible');
                    setTimeout(() => {
                        this.elements.artworkImage.src = bead.artwork.url;
                        this.elements.artworkCaption.textContent = bead.artwork.caption;
                        this.elements.artworkContainer.classList.add('visible');
                    }, 300);
                } else {
                    this.elements.artworkContainer.classList.remove('visible');
                }

                Array.from(beadEls).forEach(el => el.classList.remove('active'));
                beadEls[idx].classList.add('active');

                const activeEl = beadEls[idx];
                const beadCenter = activeEl.offsetTop + (activeEl.offsetHeight / 2);
                
                const isMobile = window.innerWidth <= 768;
                
                if (isMobile) {
                    const beadCenterX = activeEl.offsetLeft + (activeEl.offsetWidth / 2);
                    track.style.transform = `translate3d(-${beadCenterX}px, -50%, 0)`;
                } else {
                    track.style.transform = `translate3d(-50%, -${beadCenter}px, 0)`;
                }
            }
        };

        app.init();
    </script>
</body>
</html>
